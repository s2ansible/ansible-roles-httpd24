#
ServerRoot {{ httpd.ServerRoot }}
Listen {{ httpd.Listen }}
Include conf.modules.d/*.conf

User {{ httpd.User }}
Group {{ httpd.Group }}

ServerAdmin {{ httpd.ServerAdmin }}
ServerName {{ httpd.ServerName }}

<Directory />
    AllowOverride none
    Require all denied
</Directory>

DocumentRoot "{{ httpd.DocumentRoot.Directory }}"
<Directory "{{ httpd.DocumentRoot.Directory }}">
    AllowOverride {{ httpd.DocumentRoot.AllowOverride }}
    Options {{ httpd.DocumentRoot.Options }}
    Require {{ httpd.DocumentRoot.Require }}
</Directory>

<IfModule dir_module>
    DirectoryIndex {{ httpd.DirectoryIndex }}
</IfModule>

<Files ".ht*">
    Require all denied
</Files>

ErrorLog "logs/error_log"
LogLevel warn
<IfModule log_config_module>
    LogFormat "{{ httpd.Log.combined.Format }}" combined
    CustomLog "{{ httpd.Log.combined.CustomLog }}" combined
</IfModule>

<IfModule alias_module>
    # Redirect permanent /foo http://www.example.com/bar
    # Alias /webpath /full/filesystem/path
    #ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"
</IfModule>

<Directory "/var/www/cgi-bin">
    AllowOverride None
    Options None
    Require all granted
</Directory>

<IfModule mime_module>
    TypesConfig /etc/mime.types
    #AddType application/x-gzip .tgz
    #AddEncoding x-compress .Z
    #AddEncoding x-gzip .gz .tgz
    AddType application/x-compress .Z
    AddType application/x-gzip .gz .tgz
    AddHandler cgi-script .cgi .pl
    #AddHandler type-map var
    AddType text/html .shtml
    AddOutputFilter INCLUDES .shtml
</IfModule>

#AddDefaultCharset UTF-8

<IfModule mime_magic_module>
    MIMEMagicFile conf/magic
</IfModule>

#ErrorDocument 500 "The server made a boo boo."
#ErrorDocument 404 /missing.html
#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
#ErrorDocument 402 http://www.example.com/subscription_info.html

EnableMMAP {{ httpd.EnableMMAP }}
EnableSendfile {{ httpd.EnableSendfile }}
IncludeOptional {{ httpd.IncludeOptional }}

ServerTokens {{ httpd.ServerTokens }}
TraceEnable {{ httpd.TraceEnable }}
RequestHeader unset Proxy

KeepAlive {{ httpd.KeepAlive.Status }}
MaxKeepAliveRequests {{ httpd.KeepAlive.MaxRequests }}
KeepAliveTimeout {{ httpd.KeepAlive.Timeout }}

<IfModule mpm_prefork_module>
  StartServers {{ httpd.mpm.prefork.StartServers }}
  MinSpareServers {{ httpd.mpm.prefork.MinSpareServers }}
  MaxSpareServers {{ httpd.mpm.prefork.MaxSpareServers }}
  ServerLimit {{ httpd.mpm.prefork.ServerLimit }}
  MaxRequestWorkers {{ httpd.mpm.prefork.MaxRequestWorkers }}
  MaxRequestsPerChild {{ httpd.mpm.prefork.MaxRequestsPerChild }}
</IfModule>

<IfModule mpm_event_module>
  StartServers {{ httpd.mpm.event.StartServers }}
  MinSpareThreads {{ httpd.mpm.event.MinSpareThreads }}
  MaxSpareThreads {{ httpd.mpm.event.MaxSpareThreads }}
  ThreadLimit {{ httpd.mpm.event.ThreadLimit }}
  ThreadsPerChild {{ httpd.mpm.event.ThreadsPerChild }}
  MaxRequestWorkers {{ httpd.mpm.event.MaxRequestWorkers }}
  MaxConnectionsPerChild {{ httpd.mpm.event.MaxConnectionsPerChild }}
</IfModule>

